import React from "react";
import style from "./DoctorAppointment.module.css";
import { Dates } from "../Dates/Dates";
import { Times } from "../Times/Times";
import {
  onFormatDate,
  onHandleDatesByTime,
} from "../utils/onHandleDatesByTime";

const freeDates: string[] = [
  "2023-07-21T08:00:00.006Z",
  "2023-07-21T09:00:00.006Z",
  "2023-07-21T10:00:00.006Z",

  "2023-07-24T08:00:00.547Z",
  "2023-07-24T08:30:00.547Z",
  "2023-07-24T09:00:00.547Z",
  "2023-07-24T09:30:00.547Z",
  "2023-07-24T10:00:00.547Z",
  "2023-07-24T10:30:00.547Z",
  "2023-07-24T11:00:00.547Z",
  "2023-07-24T11:30:00.547Z",
  "2023-07-24T12:00:00.547Z",
  "2023-07-24T12:30:00.547Z",
  "2023-07-24T13:00:00.547Z",
  "2023-07-24T13:30:00.547Z",
  "2023-07-24T14:00:00.547Z",
  "2023-07-24T14:30:00.547Z",
  "2023-07-24T15:00:00.547Z",
  "2023-07-24T15:30:00.547Z",
  "2023-07-24T16:00:00.547Z",
  "2023-07-24T16:30:00.547Z",
  "2023-07-24T17:00:00.547Z",
  "2023-07-24T17:30:00.547Z",

  "2023-07-28T00:00:00.547Z",
  "2023-07-28T00:30:00.547Z",
  "2023-07-28T01:00:00.547Z",
  "2023-07-28T01:30:00.547Z",
  "2023-07-28T02:00:00.547Z",
  "2023-07-28T02:30:00.547Z",
  "2023-07-28T03:00:00.547Z",
  "2023-07-28T03:30:00.547Z",
  "2023-07-28T04:00:00.547Z",
  "2023-07-28T04:30:00.547Z",
  "2023-07-28T05:00:00.547Z",
  "2023-07-28T05:30:00.547Z",
  "2023-07-28T06:00:00.547Z",
  "2023-07-28T06:30:00.547Z",
  "2023-07-28T07:00:00.547Z",
  "2023-07-28T07:30:00.547Z",
  "2023-07-28T08:00:00.547Z",
  "2023-07-28T08:30:00.547Z",
  "2023-07-28T09:00:00.547Z",
  "2023-07-28T09:30:00.547Z",
  "2023-07-28T10:00:00.547Z",
  "2023-07-28T10:30:00.547Z",
  "2023-07-28T11:00:00.547Z",
  "2023-07-28T11:30:00.547Z",
  "2023-07-28T12:00:00.547Z",
  "2023-07-28T12:30:00.547Z",
  "2023-07-28T13:00:00.547Z",
  "2023-07-28T13:30:00.547Z",
  "2023-07-28T14:00:00.547Z",
  "2023-07-28T14:30:00.547Z",
  "2023-07-28T15:00:00.547Z",
  "2023-07-28T15:30:00.547Z",
  "2023-07-28T16:00:00.547Z",
  "2023-07-28T16:30:00.547Z",
  "2023-07-28T17:00:00.547Z",
  "2023-07-28T17:30:00.547Z",
  "2023-07-28T18:00:00.547Z",
  "2023-07-28T18:30:00.547Z",
  "2023-07-28T19:00:00.547Z",
  "2023-07-28T19:30:00.547Z",
  "2023-07-28T20:00:00.547Z",
  "2023-07-28T20:30:00.547Z",
  "2023-07-28T21:00:00.547Z",
  "2023-07-28T21:30:00.547Z",
  "2023-07-28T22:00:00.547Z",
  "2023-07-28T22:30:00.547Z",
  "2023-07-28T23:00:00.547Z",
  "2023-07-28T23:30:00.547Z",

  "2023-08-03T14:00:00.857Z",
  "2023-08-03T15:00:00.857Z",
];

export const DoctorAppointment = () => {
  const [chosenDate, setChosenDate] = React.useState<string | null>(null);
  const [chosenDateTime, setChosenDateTime] = React.useState<string | null>(null);

    // console.log("==> ", chosenDateTime);

  const formatedDaysByTime = onHandleDatesByTime(freeDates);

  const times: string[] | null = chosenDate
    ? formatedDaysByTime[onFormatDate(chosenDate)]
    : null;

  return (
    <>
      <Dates
        freeDates={freeDates}
        chosenDate={chosenDate}
        setChosenDate={setChosenDate}
      />
      <Times times={times} chosenDate={chosenDate} setChosenDateTime={setChosenDateTime}/>
    </>
  );
};
